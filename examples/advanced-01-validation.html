<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShakeForm 예시: 유효성 검증</title>
    <script src="../shakeForm.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f4f7f9;
            color: #333;
            margin: 0;
            padding: 2rem;
            display: flex;
            justify-content: center;
        }
        .container {
            width: 100%;
            max-width: 700px;
            background: #fff;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.1);
        }
        h1 {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
            color: #2c3e50;
        }
        p {
            font-size: 1rem;
            color: #555;
            margin-bottom: 2rem;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>유효성 검증 (Advanced)</h1>
        <p>
            정규식(RegExp)을 사용하여 사용자 ID와 연락처 필드에 대한 복잡한 유효성 검증 규칙을 적용하는 예시입니다. 잘못된 값을 입력하면 실시간으로 오류 메시지가 표시됩니다.
        </p>

        <shake-form id="validation-form" title="회원가입" submit-text="가입하기"></shake-form>
    </div>

    <script>
        const validationForm = document.getElementById('validation-form');

        const validationFields = [
          {
            name: 'userId',
            label: '사용자 ID',
            type: 'text',
            required: true,
            placeholder: '5~12자의 영문 소문자, 숫자',
            validation: {
              pattern: '^[a-z0-9]{5,12}$',
              message: 'ID는 5~12자의 영문 소문자와 숫자로만 구성해야 합니다.'
            }
          },
          {
            name: 'phone',
            label: '연락처',
            type: 'tel',
            required: true,
            placeholder: '010-0000-0000',
            validation: {
              pattern: '^01[0-9]-\\d{4}-\\d{4}$',
              message: '올바른 전화번호 형식이 아닙니다. (예: 010-1234-5678)'
            }
          },
          {
            name: 'password',
            label: '비밀번호',
            type: 'password',
            required: true,
            placeholder: '8자 이상 입력',
            validation: {
                pattern: '.{8,}',
                message: '비밀번호는 8자 이상이어야 합니다.'
            }
          },
        ];

        validationForm.setFields(validationFields);

        validationForm.addEventListener('formsubmit', (e) => {
            alert('유효성 검사를 통과했습니다!');
            console.log(e.detail);
        });
    </script>
</body>
</html>
